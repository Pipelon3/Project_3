{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\Project_3\\\\air_p_p\\\\client\\\\src\\\\components\\\\malls.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport \"./home.css\";\n\nclass Malls extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: \"\",\n      numberOfBathrooms: \"\",\n      locations: [],\n      view: \"mall\",\n      selectedLocation: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"component Mounted\");\n    fetch(\"/api/locations\", {\n      method: \"GET\",\n      // or 'PUT'\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return console.error(\"something went wrong in fetch locations api\");\n      }\n    }).then(data => {\n      console.log(\"database\", data);\n\n      for (let i = 0; i < data.length; i++) {\n        let datarow = data[i];\n\n        if (datarow.location_type === \"mall\") {\n          let locationsClone = this.state.locations;\n          locationsClone.push(datarow);\n          console.log(\"Set State\");\n          this.setState({\n            locations: locationsClone\n          });\n        }\n      }\n    });\n  }\n\n  handleVisit(input) {}\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.locations.map((location, i) => {\n      console.log(location);\n      return React.createElement(\"div\", {\n        class: \"card-body\",\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        class: \"list-group list-group-flush\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, location.building_name), React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Location: \", location.location), React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Bathrooms: \", location.number_of_bathrooms), React.createElement(\"li\", {\n        class: \"list-group-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Overall Rating: \", location.overall_rating)), React.createElement(Link, {\n        to: \"/malls/\".concat(location.building_name),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Visit\"));\n    })));\n  }\n\n}\n\nexport default Malls;","map":{"version":3,"sources":["C:\\repos\\Project_3\\air_p_p\\client\\src\\components\\malls.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","Malls","constructor","props","state","location","numberOfBathrooms","locations","view","selectedLocation","componentDidMount","console","log","fetch","method","headers","then","res","ok","json","error","data","i","length","datarow","location_type","locationsClone","push","setState","handleVisit","input","render","map","building_name","number_of_bathrooms","overall_rating"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,EAAiDC,IAAjD,QAA6D,kBAA7D;AACA,OAAO,YAAP;;AAEA,MAAMC,KAAN,SAAoBN,SAApB,CAA8B;AAC5BO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,iBAAiB,EAAE,EAFR;AAGXC,MAAAA,SAAS,EAAE,EAHA;AAIXC,MAAAA,IAAI,EAAE,MAJK;AAKXC,MAAAA,gBAAgB,EAAE;AALP,KAAb;AAOD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEAC,IAAAA,KAAK,CAAC,gBAAD,EAAmB;AACtBC,MAAAA,MAAM,EAAE,KADc;AACP;AACfC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFa,KAAnB,CAAL,CAMGC,IANH,CAMQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,EAAR,EAAY;AACV,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,OAFD,MAEO;AACL,eAAOR,OAAO,CAACS,KAAR,CAAc,6CAAd,CAAP;AACD;AACF,KAZH,EAaGJ,IAbH,CAaQK,IAAI,IAAI;AACZV,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBS,IAAxB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,YAAIE,OAAO,GAAGH,IAAI,CAACC,CAAD,CAAlB;;AACA,YAAIE,OAAO,CAACC,aAAR,KAA0B,MAA9B,EAAsC;AACpC,cAAIC,cAAc,GAAG,KAAKtB,KAAL,CAAWG,SAAhC;AACAmB,UAAAA,cAAc,CAACC,IAAf,CAAoBH,OAApB;AACAb,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEA,eAAKgB,QAAL,CAAc;AACZrB,YAAAA,SAAS,EAAEmB;AADC,WAAd;AAGD;AACF;AACF,KA3BH;AA4BD;;AAEDG,EAAAA,WAAW,CAACC,KAAD,EAAQ,CAElB;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEG,KAAK3B,KAAL,CAAWG,SAAX,CAAqByB,GAArB,CAAyB,CAAC3B,QAAD,EAAWiB,CAAX,KAAiB;AACzCX,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACA,aACE;AAAK,QAAA,KAAK,EAAC,WAAX;AAAuB,QAAA,GAAG,EAAEiB,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,KAAK,EAAC,6BAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6BjB,QAAQ,CAAC4B,aAAtC,CADF,EAEE;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAuC5B,QAAQ,CAACA,QAAhD,CAFF,EAGE;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACcA,QAAQ,CAAC6B,mBADvB,CAHF,EAME;AAAI,QAAA,KAAK,EAAC,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACmB7B,QAAQ,CAAC8B,cAD5B,CANF,CADF,EAWE,oBAAC,IAAD;AAAM,QAAA,EAAE,mBAAY9B,QAAQ,CAAC4B,aAArB,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXF,CADF;AAiBD,KAnBA,CAFH,CADF,CADF;AA2BD;;AA9E2B;;AAiF9B,eAAehC,KAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport \"./home.css\";\r\n\r\nclass Malls extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      location: \"\",\r\n      numberOfBathrooms: \"\",\r\n      locations: [],\r\n      view: \"mall\",\r\n      selectedLocation: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"component Mounted\");\r\n    \r\n    fetch(\"/api/locations\", {\r\n      method: \"GET\", // or 'PUT'\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return console.error(\"something went wrong in fetch locations api\");\r\n        }\r\n      })\r\n      .then(data => {\r\n        console.log(\"database\", data);\r\n        for (let i = 0; i < data.length; i++) {\r\n          let datarow = data[i];\r\n          if (datarow.location_type === \"mall\") {\r\n            let locationsClone = this.state.locations;\r\n            locationsClone.push(datarow);\r\n            console.log(\"Set State\");\r\n            \r\n            this.setState({\r\n              locations: locationsClone\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  handleVisit(input) {\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div class=\"card\">\r\n          {/* implement cards dynamically */}\r\n          {this.state.locations.map((location, i) => {\r\n            console.log(location);\r\n            return (\r\n              <div class=\"card-body\" key={i}>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li class=\"list-group-item\">{location.building_name}</li>\r\n                  <li class=\"list-group-item\">Location: {location.location}</li>\r\n                  <li class=\"list-group-item\">\r\n                    Bathrooms: {location.number_of_bathrooms}\r\n                  </li>\r\n                  <li class=\"list-group-item\">\r\n                    Overall Rating: {location.overall_rating}\r\n                  </li>\r\n                </ul>\r\n                <Link to={`/malls/${location.building_name}`}>\r\n                  Visit\r\n                </Link>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Malls;\r\n"]},"metadata":{},"sourceType":"module"}